{% extends 'adminpanel/base.html' %}
{% block title %} Edit -products {% endblock%}

{% block content %}

<div class="col-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body col-12">
            <h4 class="card-title">Edit Product</h4>
            <p class="card-description">Edit your product details...</p>
            <form class="forms-sample" method="POST" action="{% url 'edit_product' product.id %}" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="col-12">

                        <div class="d-flex">
                            <div class="form-group col-12">
                                <label for="exampleInputName1">Book Name</label>
                                <input 
                                type="text" 
                                class="form-control" 
                                id="name" 
                                name ="name" 
                                value="{{ product.product_name }}"
                                placeholder="{{ product.product_name }}">
                            </div>
 
                        </div>

                        <div class="d-flex">
                            <div class="form-group col-6">
                                <label for="exampleInputName1">Price</label>
                                <input 
                                type="number" 
                                class="form-control" 
                                id="price"
                                name = "price" 
                                value="{{ product.price }}"
                                placeholder="{{ product.price }}">
                            </div>
                            <div class="form-group col-6">
                                <label for="exampleInputName1">Slug</label>
                                <input 
                                type="text" 
                                class="form-control" 
                                id ="slug"
                                name ="slug"
                                value="{{ product.slug }}"
                                placeholder="{{ product.slug }}">
                            </div>
                        </div>

                        <div class="d-flex">
                            <div class="form-group col-6">
                                <label for="exampleInputName1">Update Stock</label>
                                <input 
                                type="number" 
                                class="form-control" 
                                id="stock"
                                name = "stock" 
                                value="{{ product.stock }}"
                                placeholder="{{ product.stock }}">
                            </div>
                            <div class="form-group col-6">
                                <label>Product Image</label>
                                <input 
                                    type="file" 
                                    class="form-control file-upload-info" 
                                    name = "image"
                                    id="image"
                                    placeholder="Upload Image" 
                                /> 
                            </div>
                        </div>
                        
                        {% comment %} <div class="d-flex">

                            <div class="form-group col-12">
                                <label>Secondary Image</label>
                                <input 
                                    type="file" 
                                    class="form-control file-upload-info" 
                                    name = "sec_image"
                                    id="sec_image"
                                    placeholder="Upload Image" 
                                /> 
                            </div>
                        </div> {% endcomment %}

                    <div class="d-flex">
                        <div class="form-group col-6">
                            <label for="exampleSelectGender">Categories</label>
                            <select class="form-control" id="category" name='category'>
                                <option value="{{ product.category.id }}">{{ product.category.category_name }}</option>

                            {% for category in categories %}
                              <option value="{{ category.id }}">{{ category.category_name }}</option>
                              {% endfor %}

                            </select>
                        </div>
                        <div class="form-group col-6">
                            <label for="exampleSelectGender">Authors</label>
                            <select class="form-control" id="author" name='author'>
                                <option value="{{ product.author.id }}">{{ product.author.author_name }}</option>

                                {% for author in authors %}
                                <option value="{{ author.id }}">{{ author.author_name }}</option>
                                {% endfor %}

                            </select>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="form-group col-12">
                            <label for="exampleInputPassword1">offers</label>
                            <select class="form-control" id="offer_name" name='offer_name'>
                                <option value="{{ product.offer.id }}">{{ product.offer.name }}</option>
                                {% for offer  in offers %}
                                <option value="{{ offer.id }}">{{ offer.name }}</option>
                                {% endfor %}

                            </select>
                          </div>
                    </div>
                    <div class="d-flex">
                        <div class="form-group col-12">
                            <label for="exampleTextarea1">Description</label>
                            <input 
                            class ="form-control" 
                            id ="description" 
                            name ="description" 
                            placeholder="{{ product.product_description }}" 
                            value="{{ product.product_description }}" 
                            rows="5" required>
                            
                        </div>
                    </div>



                      

                    <button type="submit" class="btn btn-primary mr-2">Submit</button>
                    
            </form>
            <a href="{% url 'admin_products' %}">
                <button class="btn btn-dark">Cancel</button>

            </a>
            
        </div>
    </div>
</div>

{% endblock content %}